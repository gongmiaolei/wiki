{"remainingRequest":"/Users/gongmiaolei/Downloads/jiawawiki/web/node_modules/ts-loader/index.js??ref--13-1!/Users/gongmiaolei/Downloads/jiawawiki/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/gongmiaolei/Downloads/jiawawiki/web/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/gongmiaolei/Downloads/jiawawiki/web/src/components/the-footer.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/gongmiaolei/Downloads/jiawawiki/web/src/components/the-footer.vue","mtime":1678361297790},{"path":"/Users/gongmiaolei/Downloads/jiawawiki/web/node_modules/cache-loader/dist/cjs.js","mtime":1678346314360},{"path":"/Users/gongmiaolei/Downloads/jiawawiki/web/node_modules/ts-loader/index.js","mtime":1678346315105},{"path":"/Users/gongmiaolei/Downloads/jiawawiki/web/node_modules/cache-loader/dist/cjs.js","mtime":1678346314360},{"path":"/Users/gongmiaolei/Downloads/jiawawiki/web/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1678346314907}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50LCBjb21wdXRlZCwgb25Nb3VudGVkIH0gZnJvbSAndnVlJzsKaW1wb3J0IHN0b3JlIGZyb20gIkAvc3RvcmUiOwppbXBvcnQgeyBUb29sIH0gZnJvbSAiQC91dGlsL3Rvb2wiOwppbXBvcnQgeyBub3RpZmljYXRpb24gfSBmcm9tICdhbnQtZGVzaWduLXZ1ZSc7CmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7CiAgICBuYW1lOiAndGhlLWZvb3RlcicsCiAgICBzZXR1cDogZnVuY3Rpb24gKCkgewogICAgICAgIHZhciB1c2VyID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgeyByZXR1cm4gc3RvcmUuc3RhdGUudXNlcjsgfSk7CiAgICAgICAgdmFyIHdlYnNvY2tldDsKICAgICAgICB2YXIgdG9rZW47CiAgICAgICAgdmFyIG9uT3BlbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ1dlYlNvY2tldOi/nuaOpeaIkOWKn++8jOeKtuaAgeegge+8micsIHdlYnNvY2tldC5yZWFkeVN0YXRlKTsKICAgICAgICB9OwogICAgICAgIHZhciBvbk1lc3NhZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ1dlYlNvY2tldOaUtuWIsOa2iOaBr++8micsIGV2ZW50LmRhdGEpOwogICAgICAgICAgICBub3RpZmljYXRpb25bJ2luZm8nXSh7CiAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5pS25Yiw5raI5oGvJywKICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBldmVudC5kYXRhLAogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBvbkVycm9yID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBjb25zb2xlLmxvZygnV2ViU29ja2V06L+e5o6l6ZSZ6K+v77yM54q25oCB56CB77yaJywgd2Vic29ja2V0LnJlYWR5U3RhdGUpOwogICAgICAgIH07CiAgICAgICAgdmFyIG9uQ2xvc2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdXZWJTb2NrZXTov57mjqXlhbPpl63vvIznirbmgIHnoIHvvJonLCB3ZWJzb2NrZXQucmVhZHlTdGF0ZSk7CiAgICAgICAgfTsKICAgICAgICB2YXIgaW5pdFdlYlNvY2tldCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgLy8g6L+e5o6l5oiQ5YqfCiAgICAgICAgICAgIHdlYnNvY2tldC5vbm9wZW4gPSBvbk9wZW47CiAgICAgICAgICAgIC8vIOaUtuWIsOa2iOaBr+eahOWbnuiwgwogICAgICAgICAgICB3ZWJzb2NrZXQub25tZXNzYWdlID0gb25NZXNzYWdlOwogICAgICAgICAgICAvLyDov57mjqXplJnor68KICAgICAgICAgICAgd2Vic29ja2V0Lm9uZXJyb3IgPSBvbkVycm9yOwogICAgICAgICAgICAvLyDov57mjqXlhbPpl63nmoTlm57osIMKICAgICAgICAgICAgd2Vic29ja2V0Lm9uY2xvc2UgPSBvbkNsb3NlOwogICAgICAgIH07CiAgICAgICAgb25Nb3VudGVkKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgLy8gV2ViU29ja2V0CiAgICAgICAgICAgIGlmICgnV2ViU29ja2V0JyBpbiB3aW5kb3cpIHsKICAgICAgICAgICAgICAgIHRva2VuID0gVG9vbC51dWlkKDEwKTsKICAgICAgICAgICAgICAgIC8vIOi/nuaOpeWcsOWdgO+8mndzOi8vMTI3LjAuMC4xOjg4ODAvd3MveHh4CiAgICAgICAgICAgICAgICB3ZWJzb2NrZXQgPSBuZXcgV2ViU29ja2V0KHByb2Nlc3MuZW52LlZVRV9BUFBfV1NfU0VSVkVSICsgJy93cy8nICsgdG9rZW4pOwogICAgICAgICAgICAgICAgaW5pdFdlYlNvY2tldCgpOwogICAgICAgICAgICAgICAgLy8g5YWz6ZetCiAgICAgICAgICAgICAgICAvLyB3ZWJzb2NrZXQuY2xvc2UoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCflvZPliY3mtY/op4jlmagg5LiN5pSv5oyBJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICB1c2VyOiB1c2VyCiAgICAgICAgfTsKICAgIH0KfSk7Cg=="},{"version":3,"file":"/Users/gongmiaolei/Downloads/jiawawiki/web/src/components/the-footer.vue.ts","sourceRoot":"","sources":["/Users/gongmiaolei/Downloads/jiawawiki/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/gongmiaolei/Downloads/jiawawiki/web/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/gongmiaolei/Downloads/jiawawiki/web/src/components/the-footer.vue?vue&type=script&lang=ts"],"names":[],"mappings":"AACE,OAAO,EAAE,eAAe,EAAE,QAAQ,EAAE,SAAS,EAAE,MAAM,KAAK,CAAC;AAC3D,OAAO,KAAK,MAAM,SAAS,CAAC;AAC5B,OAAO,EAAC,IAAI,EAAC,MAAM,aAAa,CAAC;AACjC,OAAO,EAAE,YAAY,EAAE,MAAM,gBAAgB,CAAC;AAE9C,eAAe,eAAe,CAAC;IAC7B,IAAI,EAAE,YAAY;IAClB,KAAK,EAAL;QACE,IAAM,IAAI,GAAG,QAAQ,CAAC,cAAM,OAAA,KAAK,CAAC,KAAK,CAAC,IAAI,EAAhB,CAAgB,CAAC,CAAC;QAE9C,IAAI,SAAc,CAAC;QACnB,IAAI,KAAU,CAAC;QACf,IAAM,MAAM,GAAG;YACb,OAAO,CAAC,GAAG,CAAC,oBAAoB,EAAE,SAAS,CAAC,UAAU,CAAC,CAAA;QACzD,CAAC,CAAC;QACF,IAAM,SAAS,GAAG,UAAC,KAAU;YAC3B,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC;YAC1C,YAAY,CAAC,MAAM,CAAC,CAAC;gBACnB,OAAO,EAAE,MAAM;gBACf,WAAW,EAAE,KAAK,CAAC,IAAI;aACxB,CAAC,CAAC;QACL,CAAC,CAAC;QACF,IAAM,OAAO,GAAG;YACd,OAAO,CAAC,GAAG,CAAC,oBAAoB,EAAE,SAAS,CAAC,UAAU,CAAC,CAAA;QACzD,CAAC,CAAC;QACF,IAAM,OAAO,GAAG;YACd,OAAO,CAAC,GAAG,CAAC,oBAAoB,EAAE,SAAS,CAAC,UAAU,CAAC,CAAA;QACzD,CAAC,CAAC;QACF,IAAM,aAAa,GAAG;YACpB,OAAO;YACP,SAAS,CAAC,MAAM,GAAG,MAAM,CAAC;YAC1B,UAAU;YACV,SAAS,CAAC,SAAS,GAAG,SAAS,CAAC;YAChC,OAAO;YACP,SAAS,CAAC,OAAO,GAAG,OAAO,CAAC;YAC5B,UAAU;YACV,SAAS,CAAC,OAAO,GAAG,OAAO,CAAC;QAC9B,CAAC,CAAC;QAEF,SAAS,CAAC;YACR,YAAY;YACZ,IAAI,WAAW,IAAI,MAAM,EAAE;gBACzB,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;gBACtB,kCAAkC;gBAClC,SAAS,GAAG,IAAI,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,iBAAiB,GAAG,MAAM,GAAG,KAAK,CAAC,CAAC;gBAC1E,aAAa,EAAE,CAAA;gBAEf,KAAK;gBACL,qBAAqB;aACtB;iBAAM;gBACL,KAAK,CAAC,WAAW,CAAC,CAAA;aACnB;QACH,CAAC,CAAC,CAAC;QAEH,OAAO;YACL,IAAI,MAAA;SACL,CAAA;IACH,CAAC;CACF,CAAC,CAAC","sourcesContent":["\n  import { defineComponent, computed, onMounted } from 'vue';\n  import store from \"@/store\";\n  import {Tool} from \"@/util/tool\";\n  import { notification } from 'ant-design-vue';\n\n  export default defineComponent({\n    name: 'the-footer',\n    setup() {\n      const user = computed(() => store.state.user);\n\n      let websocket: any;\n      let token: any;\n      const onOpen = () => {\n        console.log('WebSocket连接成功，状态码：', websocket.readyState)\n      };\n      const onMessage = (event: any) => {\n        console.log('WebSocket收到消息：', event.data);\n        notification['info']({\n          message: '收到消息',\n          description: event.data,\n        });\n      };\n      const onError = () => {\n        console.log('WebSocket连接错误，状态码：', websocket.readyState)\n      };\n      const onClose = () => {\n        console.log('WebSocket连接关闭，状态码：', websocket.readyState)\n      };\n      const initWebSocket = () => {\n        // 连接成功\n        websocket.onopen = onOpen;\n        // 收到消息的回调\n        websocket.onmessage = onMessage;\n        // 连接错误\n        websocket.onerror = onError;\n        // 连接关闭的回调\n        websocket.onclose = onClose;\n      };\n\n      onMounted(() => {\n        // WebSocket\n        if ('WebSocket' in window) {\n          token = Tool.uuid(10);\n          // 连接地址：ws://127.0.0.1:8880/ws/xxx\n          websocket = new WebSocket(process.env.VUE_APP_WS_SERVER + '/ws/' + token);\n          initWebSocket()\n\n          // 关闭\n          // websocket.close();\n        } else {\n          alert('当前浏览器 不支持')\n        }\n      });\n\n      return {\n        user\n      }\n    }\n  });\n"]}]}