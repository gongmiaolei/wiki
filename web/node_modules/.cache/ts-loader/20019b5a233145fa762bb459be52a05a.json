{"remainingRequest":"/Users/gongmiaolei/Downloads/jiawawiki/web/node_modules/ts-loader/index.js??ref--13-1!/Users/gongmiaolei/Downloads/jiawawiki/web/node_modules/eslint-loader/index.js??ref--12-0!/Users/gongmiaolei/Downloads/jiawawiki/web/src/router/index.ts","dependencies":[{"path":"/Users/gongmiaolei/Downloads/jiawawiki/web/src/router/index.ts","mtime":1678360791223},{"path":"/Users/gongmiaolei/Downloads/jiawawiki/web/node_modules/cache-loader/dist/cjs.js","mtime":1678346314360},{"path":"/Users/gongmiaolei/Downloads/jiawawiki/web/node_modules/ts-loader/index.js","mtime":1678346315105},{"path":"/Users/gongmiaolei/Downloads/jiawawiki/web/node_modules/eslint-loader/index.js","mtime":1678346314483}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlUm91dGVyLCBjcmVhdGVXZWJIaXN0b3J5IH0gZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCBIb21lIGZyb20gJy4uL3ZpZXdzL2hvbWUudnVlJzsKaW1wb3J0IEFib3V0IGZyb20gJy4uL3ZpZXdzL2Fib3V0LnZ1ZSc7CmltcG9ydCBEb2MgZnJvbSAnLi4vdmlld3MvZG9jLnZ1ZSc7CmltcG9ydCBBZG1pblVzZXIgZnJvbSAnLi4vdmlld3MvYWRtaW4vYWRtaW4tdXNlci52dWUnOwppbXBvcnQgQWRtaW5FYm9vayBmcm9tICcuLi92aWV3cy9hZG1pbi9hZG1pbi1lYm9vay52dWUnOwppbXBvcnQgQWRtaW5DYXRlZ29yeSBmcm9tICcuLi92aWV3cy9hZG1pbi9hZG1pbi1jYXRlZ29yeS52dWUnOwppbXBvcnQgQWRtaW5Eb2MgZnJvbSAnLi4vdmlld3MvYWRtaW4vYWRtaW4tZG9jLnZ1ZSc7CmltcG9ydCBzdG9yZSBmcm9tICJAL3N0b3JlIjsKaW1wb3J0IHsgVG9vbCB9IGZyb20gIkAvdXRpbC90b29sIjsKdmFyIHJvdXRlcyA9IFsKICAgIHsKICAgICAgICBwYXRoOiAnLycsCiAgICAgICAgbmFtZTogJ0hvbWUnLAogICAgICAgIGNvbXBvbmVudDogSG9tZQogICAgfSwKICAgIHsKICAgICAgICBwYXRoOiAnL2RvYycsCiAgICAgICAgbmFtZTogJ0RvYycsCiAgICAgICAgY29tcG9uZW50OiBEb2MKICAgIH0sCiAgICB7CiAgICAgICAgcGF0aDogJy9hYm91dCcsCiAgICAgICAgbmFtZTogJ0Fib3V0JywKICAgICAgICBjb21wb25lbnQ6IEFib3V0CiAgICAgICAgLy8gcm91dGUgbGV2ZWwgY29kZS1zcGxpdHRpbmcKICAgICAgICAvLyB0aGlzIGdlbmVyYXRlcyBhIHNlcGFyYXRlIGNodW5rIChhYm91dC5baGFzaF0uanMpIGZvciB0aGlzIHJvdXRlCiAgICAgICAgLy8gd2hpY2ggaXMgbGF6eS1sb2FkZWQgd2hlbiB0aGUgcm91dGUgaXMgdmlzaXRlZC4KICAgICAgICAvLyBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgvKiB3ZWJwYWNrQ2h1bmtOYW1lOiAiYWJvdXQiICovICcuLi92aWV3cy9hYm91dC52dWUnKQogICAgfSwKICAgIHsKICAgICAgICBwYXRoOiAnL2FkbWluL3VzZXInLAogICAgICAgIG5hbWU6ICdBZG1pblVzZXInLAogICAgICAgIGNvbXBvbmVudDogQWRtaW5Vc2VyLAogICAgICAgIG1ldGE6IHsKICAgICAgICAgICAgbG9naW5SZXF1aXJlOiB0cnVlCiAgICAgICAgfQogICAgfSwKICAgIHsKICAgICAgICBwYXRoOiAnL2FkbWluL2Vib29rJywKICAgICAgICBuYW1lOiAnQWRtaW5FYm9vaycsCiAgICAgICAgY29tcG9uZW50OiBBZG1pbkVib29rLAogICAgICAgIG1ldGE6IHsKICAgICAgICAgICAgbG9naW5SZXF1aXJlOiB0cnVlCiAgICAgICAgfQogICAgfSwKICAgIHsKICAgICAgICBwYXRoOiAnL2FkbWluL2NhdGVnb3J5JywKICAgICAgICBuYW1lOiAnQWRtaW5DYXRlZ29yeScsCiAgICAgICAgY29tcG9uZW50OiBBZG1pbkNhdGVnb3J5LAogICAgICAgIG1ldGE6IHsKICAgICAgICAgICAgbG9naW5SZXF1aXJlOiB0cnVlCiAgICAgICAgfQogICAgfSwKICAgIHsKICAgICAgICBwYXRoOiAnL2FkbWluL2RvYycsCiAgICAgICAgbmFtZTogJ0FkbWluRG9jJywKICAgICAgICBjb21wb25lbnQ6IEFkbWluRG9jLAogICAgICAgIG1ldGE6IHsKICAgICAgICAgICAgbG9naW5SZXF1aXJlOiB0cnVlCiAgICAgICAgfQogICAgfSwKXTsKdmFyIHJvdXRlciA9IGNyZWF0ZVJvdXRlcih7CiAgICBoaXN0b3J5OiBjcmVhdGVXZWJIaXN0b3J5KHByb2Nlc3MuZW52LkJBU0VfVVJMKSwKICAgIHJvdXRlczogcm91dGVzCn0pOwovLyDot6/nlLHnmbvlvZXmi6bmiKoKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgICAvLyDopoHkuI3opoHlr7ltZXRhLmxvZ2luUmVxdWlyZeWxnuaAp+WBmuebkeaOp+aLpuaIqgogICAgaWYgKHRvLm1hdGNoZWQuc29tZShmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGNvbnNvbGUubG9nKGl0ZW0sICLmmK/lkKbpnIDopoHnmbvlvZXmoKHpqozvvJoiLCBpdGVtLm1ldGEubG9naW5SZXF1aXJlKTsKICAgICAgICByZXR1cm4gaXRlbS5tZXRhLmxvZ2luUmVxdWlyZTsKICAgIH0pKSB7CiAgICAgICAgdmFyIGxvZ2luVXNlciA9IHN0b3JlLnN0YXRlLnVzZXI7CiAgICAgICAgaWYgKFRvb2wuaXNFbXB0eShsb2dpblVzZXIpKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCLnlKjmiLfmnKrnmbvlvZXvvIEiKTsKICAgICAgICAgICAgbmV4dCgnLycpOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgbmV4dCgpOwogICAgICAgIH0KICAgIH0KICAgIGVsc2UgewogICAgICAgIG5leHQoKTsKICAgIH0KfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsK"},{"version":3,"file":"/Users/gongmiaolei/Downloads/jiawawiki/web/src/router/index.ts","sourceRoot":"","sources":["/Users/gongmiaolei/Downloads/jiawawiki/web/node_modules/eslint-loader/index.js??ref--12-0!/Users/gongmiaolei/Downloads/jiawawiki/web/src/router/index.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,YAAY,EAAE,gBAAgB,EAAkB,MAAM,YAAY,CAAA;AAC3E,OAAO,IAAI,MAAM,mBAAmB,CAAA;AACpC,OAAO,KAAK,MAAM,oBAAoB,CAAA;AACtC,OAAO,GAAG,MAAM,kBAAkB,CAAA;AAClC,OAAO,SAAS,MAAM,+BAA+B,CAAA;AACrD,OAAO,UAAU,MAAM,gCAAgC,CAAA;AACvD,OAAO,aAAa,MAAM,mCAAmC,CAAA;AAC7D,OAAO,QAAQ,MAAM,8BAA8B,CAAA;AACnD,OAAO,KAAK,MAAM,SAAS,CAAC;AAC5B,OAAO,EAAC,IAAI,EAAC,MAAM,aAAa,CAAC;AAEjC,IAAM,MAAM,GAA0B;IACpC;QACE,IAAI,EAAE,GAAG;QACT,IAAI,EAAE,MAAM;QACZ,SAAS,EAAE,IAAI;KAChB;IACD;QACE,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,KAAK;QACX,SAAS,EAAE,GAAG;KACf;IACD;QACE,IAAI,EAAE,QAAQ;QACd,IAAI,EAAE,OAAO;QACb,SAAS,EAAE,KAAK;QAChB,6BAA6B;QAC7B,mEAAmE;QACnE,kDAAkD;QAClD,gFAAgF;KACjF;IACD;QACE,IAAI,EAAE,aAAa;QACnB,IAAI,EAAE,WAAW;QACjB,SAAS,EAAE,SAAS;QACpB,IAAI,EAAE;YACJ,YAAY,EAAE,IAAI;SACnB;KACF;IACD;QACE,IAAI,EAAE,cAAc;QACpB,IAAI,EAAE,YAAY;QAClB,SAAS,EAAE,UAAU;QACrB,IAAI,EAAE;YACJ,YAAY,EAAE,IAAI;SACnB;KACF;IACD;QACE,IAAI,EAAE,iBAAiB;QACvB,IAAI,EAAE,eAAe;QACrB,SAAS,EAAE,aAAa;QACxB,IAAI,EAAE;YACJ,YAAY,EAAE,IAAI;SACnB;KACF;IACD;QACE,IAAI,EAAE,YAAY;QAClB,IAAI,EAAE,UAAU;QAChB,SAAS,EAAE,QAAQ;QACnB,IAAI,EAAE;YACJ,YAAY,EAAE,IAAI;SACnB;KACF;CACF,CAAA;AAED,IAAM,MAAM,GAAG,YAAY,CAAC;IAC1B,OAAO,EAAE,gBAAgB,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC;IAC/C,MAAM,QAAA;CACP,CAAC,CAAA;AAEF,SAAS;AACT,MAAM,CAAC,UAAU,CAAC,UAAC,EAAE,EAAE,IAAI,EAAE,IAAI;IAC/B,+BAA+B;IAC/B,IAAI,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,IAAI;QAChC,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,WAAW,EAAE,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACvD,OAAO,IAAI,CAAC,IAAI,CAAC,YAAY,CAAA;IAC/B,CAAC,CAAC,EAAE;QACF,IAAM,SAAS,GAAG,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC;QACnC,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;YAC3B,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACtB,IAAI,CAAC,GAAG,CAAC,CAAC;SACX;aAAM;YACL,IAAI,EAAE,CAAC;SACR;KACF;SAAM;QACL,IAAI,EAAE,CAAC;KACR;AACH,CAAC,CAAC,CAAC;AAEH,eAAe,MAAM,CAAA","sourcesContent":["import { createRouter, createWebHistory, RouteRecordRaw } from 'vue-router'\nimport Home from '../views/home.vue'\nimport About from '../views/about.vue'\nimport Doc from '../views/doc.vue'\nimport AdminUser from '../views/admin/admin-user.vue'\nimport AdminEbook from '../views/admin/admin-ebook.vue'\nimport AdminCategory from '../views/admin/admin-category.vue'\nimport AdminDoc from '../views/admin/admin-doc.vue'\nimport store from \"@/store\";\nimport {Tool} from \"@/util/tool\";\n\nconst routes: Array<RouteRecordRaw> = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home\n  },\n  {\n    path: '/doc',\n    name: 'Doc',\n    component: Doc\n  },\n  {\n    path: '/about',\n    name: 'About',\n    component: About\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    // component: () => import(/* webpackChunkName: \"about\" */ '../views/about.vue')\n  },\n  {\n    path: '/admin/user',\n    name: 'AdminUser',\n    component: AdminUser,\n    meta: {\n      loginRequire: true\n    }\n  },\n  {\n    path: '/admin/ebook',\n    name: 'AdminEbook',\n    component: AdminEbook,\n    meta: {\n      loginRequire: true\n    }\n  },\n  {\n    path: '/admin/category',\n    name: 'AdminCategory',\n    component: AdminCategory,\n    meta: {\n      loginRequire: true\n    }\n  },\n  {\n    path: '/admin/doc',\n    name: 'AdminDoc',\n    component: AdminDoc,\n    meta: {\n      loginRequire: true\n    }\n  },\n]\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n})\n\n// 路由登录拦截\nrouter.beforeEach((to, from, next) => {\n  // 要不要对meta.loginRequire属性做监控拦截\n  if (to.matched.some(function (item) {\n    console.log(item, \"是否需要登录校验：\", item.meta.loginRequire);\n    return item.meta.loginRequire\n  })) {\n    const loginUser = store.state.user;\n    if (Tool.isEmpty(loginUser)) {\n      console.log(\"用户未登录！\");\n      next('/');\n    } else {\n      next();\n    }\n  } else {\n    next();\n  }\n});\n\nexport default router\n"]}]}