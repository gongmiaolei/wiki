{"remainingRequest":"/Users/gongmiaolei/Downloads/jiawawiki/web/node_modules/thread-loader/dist/cjs.js!/Users/gongmiaolei/Downloads/jiawawiki/web/node_modules/ts-loader/index.js??ref--13-2!/Users/gongmiaolei/Downloads/jiawawiki/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/gongmiaolei/Downloads/jiawawiki/web/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/gongmiaolei/Downloads/jiawawiki/web/src/views/home.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/gongmiaolei/Downloads/jiawawiki/web/src/views/home.vue","mtime":1614134929000},{"path":"/Users/gongmiaolei/Downloads/jiawawiki/web/node_modules/cache-loader/dist/cjs.js","mtime":1678346314360},{"path":"/Users/gongmiaolei/Downloads/jiawawiki/web/node_modules/thread-loader/dist/cjs.js","mtime":1678346314294},{"path":"/Users/gongmiaolei/Downloads/jiawawiki/web/node_modules/ts-loader/index.js","mtime":1678346315105},{"path":"/Users/gongmiaolei/Downloads/jiawawiki/web/node_modules/cache-loader/dist/cjs.js","mtime":1678346314360},{"path":"/Users/gongmiaolei/Downloads/jiawawiki/web/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1678346314907}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50LCBvbk1vdW50ZWQsIHJlZiB9IGZyb20gJ3Z1ZSc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IG1lc3NhZ2UgfSBmcm9tICdhbnQtZGVzaWduLXZ1ZSc7CmltcG9ydCB7IFRvb2wgfSBmcm9tICJAL3V0aWwvdG9vbCI7CmltcG9ydCBUaGVXZWxjb21lIGZyb20gJ0AvY29tcG9uZW50cy90aGUtd2VsY29tZS52dWUnOwovLyBjb25zdCBsaXN0RGF0YTogYW55ID0gW107Ci8vIGZvciAobGV0IGkgPSAwOyBpIDwgMjM7IGkrKykgewovLyAgIGxpc3REYXRhLnB1c2goewovLyAgICAgaHJlZjogJ2h0dHBzOi8vd3d3LmFudGR2LmNvbS8nLAovLyAgICAgdGl0bGU6IGBhbnQgZGVzaWduIHZ1ZSBwYXJ0ICR7aX1gLAovLyAgICAgYXZhdGFyOiAnaHR0cHM6Ly96b3MuYWxpcGF5b2JqZWN0cy5jb20vcm1zcG9ydGFsL09EVExjanhBZnZxYnhIblZYQ1lYLnBuZycsCi8vICAgICBkZXNjcmlwdGlvbjoKLy8gICAgICAgICAnQW50IERlc2lnbiwgYSBkZXNpZ24gbGFuZ3VhZ2UgZm9yIGJhY2tncm91bmQgYXBwbGljYXRpb25zLCBpcyByZWZpbmVkIGJ5IEFudCBVRUQgVGVhbS4nLAovLyAgICAgY29udGVudDoKLy8gICAgICAgICAnV2Ugc3VwcGx5IGEgc2VyaWVzIG9mIGRlc2lnbiBwcmluY2lwbGVzLCBwcmFjdGljYWwgcGF0dGVybnMgYW5kIGhpZ2ggcXVhbGl0eSBkZXNpZ24gcmVzb3VyY2VzIChTa2V0Y2ggYW5kIEF4dXJlKSwgdG8gaGVscCBwZW9wbGUgY3JlYXRlIHRoZWlyIHByb2R1Y3QgcHJvdG90eXBlcyBiZWF1dGlmdWxseSBhbmQgZWZmaWNpZW50bHkuJywKLy8gICB9KTsKLy8gfQpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogICAgbmFtZTogJ0hvbWUnLAogICAgY29tcG9uZW50czogewogICAgICAgIFRoZVdlbGNvbWU6IFRoZVdlbGNvbWUKICAgIH0sCiAgICBzZXR1cDogZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBlYm9va3MgPSByZWYoKTsKICAgICAgICAvLyBjb25zdCBlYm9va3MxID0gcmVhY3RpdmUoe2Jvb2tzOiBbXX0pOwogICAgICAgIHZhciBvcGVuS2V5cyA9IHJlZigpOwogICAgICAgIHZhciBsZXZlbDEgPSByZWYoKTsKICAgICAgICB2YXIgY2F0ZWdvcnlzOwogICAgICAgIC8qKgogICAgICAgICAqIOafpeivouaJgOacieWIhuexuwogICAgICAgICAqKi8KICAgICAgICB2YXIgaGFuZGxlUXVlcnlDYXRlZ29yeSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgYXhpb3MuZ2V0KCIvY2F0ZWdvcnkvYWxsIikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeXMgPSBkYXRhLmNvbnRlbnQ7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIuWOn+Wni+aVsOe7hO+8miIsIGNhdGVnb3J5cyk7CiAgICAgICAgICAgICAgICAgICAgLy8g5Yqg6L295a6M5YiG57G75ZCO77yM5bCG5L6n6L655qCP5YWo6YOo5bGV5byACiAgICAgICAgICAgICAgICAgICAgb3BlbktleXMudmFsdWUgPSBbXTsKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhdGVnb3J5cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICBvcGVuS2V5cy52YWx1ZS5wdXNoKGNhdGVnb3J5c1tpXS5pZCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGxldmVsMS52YWx1ZSA9IFtdOwogICAgICAgICAgICAgICAgICAgIGxldmVsMS52YWx1ZSA9IFRvb2wuYXJyYXkyVHJlZShjYXRlZ29yeXMsIDApOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCLmoJHlvaLnu5PmnoTvvJoiLCBsZXZlbDEudmFsdWUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5lcnJvcihkYXRhLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICAgIHZhciBpc1Nob3dXZWxjb21lID0gcmVmKHRydWUpOwogICAgICAgIHZhciBjYXRlZ29yeUlkMiA9IDA7CiAgICAgICAgdmFyIGhhbmRsZVF1ZXJ5RWJvb2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGF4aW9zLmdldCgiL2Vib29rL2xpc3QiLCB7CiAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgICBwYWdlOiAxLAogICAgICAgICAgICAgICAgICAgIHNpemU6IDEwMDAsCiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlJZDI6IGNhdGVnb3J5SWQyCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICBlYm9va3MudmFsdWUgPSBkYXRhLmNvbnRlbnQubGlzdDsKICAgICAgICAgICAgICAgIC8vIGVib29rczEuYm9va3MgPSBkYXRhLmNvbnRlbnQ7CiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgdmFyIGhhbmRsZUNsaWNrID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCJtZW51IGNsaWNrIiwgdmFsdWUpCiAgICAgICAgICAgIGlmICh2YWx1ZS5rZXkgPT09ICd3ZWxjb21lJykgewogICAgICAgICAgICAgICAgaXNTaG93V2VsY29tZS52YWx1ZSA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBjYXRlZ29yeUlkMiA9IHZhbHVlLmtleTsKICAgICAgICAgICAgICAgIGlzU2hvd1dlbGNvbWUudmFsdWUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGhhbmRsZVF1ZXJ5RWJvb2soKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBpc1Nob3dXZWxjb21lLnZhbHVlID0gdmFsdWUua2V5ID09PSAnd2VsY29tZSc7CiAgICAgICAgfTsKICAgICAgICBvbk1vdW50ZWQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBoYW5kbGVRdWVyeUNhdGVnb3J5KCk7CiAgICAgICAgICAgIC8vIGhhbmRsZVF1ZXJ5RWJvb2soKTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBlYm9va3M6IGVib29rcywKICAgICAgICAgICAgLy8gZWJvb2tzMjogdG9SZWYoZWJvb2tzMSwgImJvb2tzIiksCiAgICAgICAgICAgIC8vIGxpc3REYXRhLAogICAgICAgICAgICBwYWdpbmF0aW9uOiB7CiAgICAgICAgICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gKHBhZ2UpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwYWdlKTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBwYWdlU2l6ZTogMywKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLy8gYWN0aW9uczogWwogICAgICAgICAgICAvLyAgIHsgdHlwZTogJ1N0YXJPdXRsaW5lZCcsIHRleHQ6ICcxNTYnIH0sCiAgICAgICAgICAgIC8vICAgeyB0eXBlOiAnTGlrZU91dGxpbmVkJywgdGV4dDogJzE1NicgfSwKICAgICAgICAgICAgLy8gICB7IHR5cGU6ICdNZXNzYWdlT3V0bGluZWQnLCB0ZXh0OiAnMicgfSwKICAgICAgICAgICAgLy8gXSwKICAgICAgICAgICAgaGFuZGxlQ2xpY2s6IGhhbmRsZUNsaWNrLAogICAgICAgICAgICBsZXZlbDE6IGxldmVsMSwKICAgICAgICAgICAgaXNTaG93V2VsY29tZTogaXNTaG93V2VsY29tZSwKICAgICAgICAgICAgb3BlbktleXM6IG9wZW5LZXlzCiAgICAgICAgfTsKICAgIH0KfSk7Cg=="},{"version":3,"file":"/Users/gongmiaolei/Downloads/jiawawiki/web/src/views/home.vue.ts","sourceRoot":"","sources":["/Users/gongmiaolei/Downloads/jiawawiki/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/gongmiaolei/Downloads/jiawawiki/web/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/gongmiaolei/Downloads/jiawawiki/web/src/views/home.vue?vue&type=script&lang=ts"],"names":[],"mappings":"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","sourcesContent":["\nimport { defineComponent, onMounted, ref, reactive, toRef } from 'vue';\nimport axios from 'axios';\nimport { message } from 'ant-design-vue';\nimport {Tool} from \"@/util/tool\";\nimport TheWelcome from '@/components/the-welcome.vue';\n\n// const listData: any = [];\n// for (let i = 0; i < 23; i++) {\n//   listData.push({\n//     href: 'https://www.antdv.com/',\n//     title: `ant design vue part ${i}`,\n//     avatar: 'https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png',\n//     description:\n//         'Ant Design, a design language for background applications, is refined by Ant UED Team.',\n//     content:\n//         'We supply a series of design principles, practical patterns and high quality design resources (Sketch and Axure), to help people create their product prototypes beautifully and efficiently.',\n//   });\n// }\n\nexport default defineComponent({\n  name: 'Home',\n  components: {\n    TheWelcome\n  },\n  setup() {\n    const ebooks = ref();\n    // const ebooks1 = reactive({books: []});\n\n    const openKeys =  ref();\n\n    const level1 =  ref();\n    let categorys: any;\n    /**\n     * 查询所有分类\n     **/\n    const handleQueryCategory = () => {\n      axios.get(\"/category/all\").then((response) => {\n        const data = response.data;\n        if (data.success) {\n          categorys = data.content;\n          console.log(\"原始数组：\", categorys);\n\n          // 加载完分类后，将侧边栏全部展开\n          openKeys.value = [];\n          for (let i = 0; i < categorys.length; i++) {\n            openKeys.value.push(categorys[i].id)\n          }\n\n          level1.value = [];\n          level1.value = Tool.array2Tree(categorys, 0);\n          console.log(\"树形结构：\", level1.value);\n        } else {\n          message.error(data.message);\n        }\n      });\n    };\n\n    const isShowWelcome = ref(true);\n    let categoryId2 = 0;\n\n    const handleQueryEbook = () => {\n      axios.get(\"/ebook/list\", {\n        params: {\n          page: 1,\n          size: 1000,\n          categoryId2: categoryId2\n        }\n      }).then((response) => {\n        const data = response.data;\n        ebooks.value = data.content.list;\n        // ebooks1.books = data.content;\n      });\n    };\n\n    const handleClick = (value: any) => {\n      // console.log(\"menu click\", value)\n      if (value.key === 'welcome') {\n        isShowWelcome.value = true;\n      } else {\n        categoryId2 = value.key;\n        isShowWelcome.value = false;\n        handleQueryEbook();\n      }\n      // isShowWelcome.value = value.key === 'welcome';\n    };\n\n    onMounted(() => {\n      handleQueryCategory();\n      // handleQueryEbook();\n    });\n\n    return {\n      ebooks,\n      // ebooks2: toRef(ebooks1, \"books\"),\n      // listData,\n      pagination: {\n        onChange: (page: any) => {\n          console.log(page);\n        },\n        pageSize: 3,\n      },\n      // actions: [\n      //   { type: 'StarOutlined', text: '156' },\n      //   { type: 'LikeOutlined', text: '156' },\n      //   { type: 'MessageOutlined', text: '2' },\n      // ],\n\n      handleClick,\n      level1,\n\n      isShowWelcome,\n\n      openKeys\n    }\n  }\n});\n"]}]}